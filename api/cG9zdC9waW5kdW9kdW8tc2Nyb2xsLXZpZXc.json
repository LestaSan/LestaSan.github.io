{"title":"scroll-view组件bindscroll实例应用：自定义滚动条","date":"2018-08-26T01:49:39.000Z","excerpt":"","slug":"pinduoduo-scroll-view","updated":"2018-08-26T01:51:01.858Z","content":"<p><br><br><br>我们知道scroll-view组件作为滑动控件非常好用，而有时候我们想放置一个跟随滚动位置来跟进的滚动条，但又不想用滚动条api该怎么办呢？（当然是自己写一个呗还能怎么办[自黑冷漠脸]）<br><br><br>嗯，没错。自己写一个就好了啊。[厚脸皮点头]<br><br><br>请看效果图<br><br></p>\n<p><img src=\"https://user-gold-cdn.xitu.io/2018/6/12/163f22f9d854688d?w=360&amp;h=720&amp;f=gif&amp;s=4596853\" alt=\"\"><br>那么如何做呢？我是通过scroll-view组件的bindscroll事件来自定义的。让我们先看看文档：<br><img src=\"https://user-gold-cdn.xitu.io/2018/6/12/163f2286aeaed90a?w=1273&amp;h=277&amp;f=png&amp;s=23403\" alt=\"\"><br>请小伙伴们看看，滚动时会触发bindscroll事件，触发时会生成scrollLeft、scrollTop等的数据；好，那让我们console一下看看。<br><br><br><br>没滚动时：<br><img src=\"https://user-gold-cdn.xitu.io/2018/6/12/163f2317f1ada9b2?w=1518&amp;h=726&amp;f=png&amp;s=370750\" alt=\"\"><br>可以看到scrollLeft的值为0<br><br><br><br>滚动到最右边时：</p>\n<p><img src=\"https://user-gold-cdn.xitu.io/2018/6/12/163f232dbe81345b?w=1400&amp;h=599&amp;f=png&amp;s=358837\" alt=\"\"><br>scorllLeft的值变为222.6多了<br><br><br><br>这就说明滚动的总长度范围是0~222.6，那么，我们可以根据滚动范围来制定一个比例，动态的设置红线滚动条的水平距离。<br><br><br>贴上代码<br><br><br>wxml</p>\n<pre><code>//红线进度条的wxml，动态设置其left值\n&lt;view class=&quot;scroll-line&quot;&gt;\n    &lt;view class=&quot;scrollMove&quot; style=&quot;left:{{viewleft}}rpx&quot;&gt;&lt;/view&gt;\n &lt;/view&gt;\n</code></pre><p>js</p>\n<pre><code>//滚动触发函数scrollMove\nscrollMove: function(e) {\n    //获取滚动距离\n    var left = e.detail.scrollLeft;\n    //将滚动距离（位移）动态添给滚动条的left\n    this.setData({\n        viewleft: left\n    })\n}\n</code></pre>","next":{"title":"微信小程序-仿拼多多","slug":"pinduoduo-App"},"link":"/2018/08/26"}